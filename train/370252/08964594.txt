A method of and a network_processor_unit for processing of packets in a network  the network_processor_comprising__communication_interface_configured to receive and transmit_packets  at least one processing_means for processing_packets or parts_thereof  an embedded_switch_configured to switch_packets between the communication_interface and the processing_means  and wherein the embedded_switch is configured to analyze a received_packet and to determine whether the packet should be dropped or not  if the packet should not be dropped  the switch is configured to store the received_packet  to send a first part of the packet to the processing_means for processing_thereof  to receive the processed first part of the packet from the processing_means  and to transmit the processed first part of the packet.