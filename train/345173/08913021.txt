A touch_sensor_panel_configured to switch between a mutual_capacitance near field_sensing_architecture and a self-capacitance far field_sensing_architecture. The touch_sensor_panel includes circuitry that can switch the configuration of touch_electrodes to act as either drive_lines in a mutual_capacitance_configuration or as sense_electrodes in a self-capacitance_configuration. The touch_sensor_panel also includes circuitry that can switch the configuration of touch_electrodes to act as either sense_lines in a mutual_capacitance_configuration or a sense_electrode in a self-capacitance_configuration.